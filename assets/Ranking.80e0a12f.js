import{d as E,m as p,n as m,c as o,a as v,w as A,T as b,o as i,q as w,e as t,A as F,F as g,s as y,t as s,g as B,v as j,p as I,b as S,y as q}from"./vendor.8a3ab317.js";import{S as T}from"./sweetalert2.314ae3be.js";import{e as D}from"./api.a6e8cdff.js";import{_ as V}from"./index.daebbcbd.js";const l=c=>(I("data-v-60385df6"),c=c(),S(),c),$={id:"ranking"},N={id:"container"},R=l(()=>t("div",{id:"safe-area",class:"w-full my-3"},null,-1)),z=l(()=>t("h1",{style:{"font-size":"1.6rem"}},"\u67E5\u8A62\u6392\u884C\u699C",-1)),L={class:"ch"},M=l(()=>t("label",{class:"ch-label"},"\u904A\u6232 ID",-1)),P={key:0,class:"w-11/12 mx-auto"},U=l(()=>t("h2",{class:"text-lg"},"\u968A\u4F0D\u6392\u540D",-1)),G={class:"table w-full text-right"},H=l(()=>t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"\u968A\u4F0D"),t("th",null,"\u5E73\u5747\u6642\u9593"),t("th",null,"\u5B8C\u6210\u4EBA\u6578")])],-1)),J=l(()=>t("br",null,null,-1)),K=l(()=>t("h2",{class:"text-lg"},"\u500B\u4EBA\u6392\u540D",-1)),O={class:"table w-full text-right"},Q=l(()=>t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"\u540D\u7A31"),t("th",null,"\u5B8C\u6210\u6642\u9593"),t("th",null,"\u968A\u4F0D")])],-1)),W=E({setup(c){function _(e,u=""){T.fire({title:e,text:u,icon:"error",confirmButtonText:"\u78BA\u5B9A"})}const n=p(""),h=m([]),f=m([]),d=p(!1);if(location.search.includes("?id=")){const e=location.search.split("?id=")[1];n.value=e}async function k(e){if(n.value.length===0){_("\u8ACB\u8F38\u5165\u904A\u6232 ID");return}if(d.value=!1,(await Promise.all([x(),C()])).some(u=>u===!1)){_("\u67E5\u8A62\u5931\u6557","\u4E5F\u8A31\u662F\u904A\u6232 ID \u932F\u8AA4");return}else d.value=!0}async function x(){const e=await fetch(`${D}/ranking/get?id=${n.value}`);if(e.status!==200)return!1;const u=await e.json();return h.push(...u),!0}async function C(){const e=await fetch(`${D}/ranking/personal?id=${n.value}`);if(e.status!==200)return!1;const u=await e.json();return f.push(...u),!0}return(e,u)=>(i(),o("div",$,[v(b,{name:"fade"},{default:A(()=>[w(t("div",N,[R,z,t("div",L,[M,w(t("input",{class:"ch-input","onUpdate:modelValue":u[0]||(u[0]=a=>n.value=a),placeholder:"abc123"},null,512),[[F,n.value]]),t("a",{onClick:k,href:"javascript:void(0)",class:"w-full inline-block"},"\u67E5\u8A62")]),v(b,{name:"fade"},{default:A(()=>[d.value?(i(),o("div",P,[U,t("table",G,[H,t("tbody",null,[(i(!0),o(g,null,y(B(h),(a,r)=>(i(),o("tr",{key:"team_"+r},[t("td",null,s(r+1),1),t("td",null,s(a.team),1),t("td",null,s(a.time)+" \u79D2",1),t("td",null,s(a.count)+" \u4EBA",1)]))),128))])]),J,K,t("table",O,[Q,t("tbody",null,[(i(!0),o(g,null,y(B(f),(a,r)=>(i(),o("tr",{key:"personal_"+r},[t("td",null,s(r+1),1),t("td",null,s(a.name),1),t("td",null,s(a.time)+" \u79D2",1),t("td",null,s(a.team),1)]))),128))])])])):j("",!0)]),_:1})],512),[[q,!0]])]),_:1})]))}});var et=V(W,[["__scopeId","data-v-60385df6"]]);export{et as default};
